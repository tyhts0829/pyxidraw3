ShapeFactory の \_cached_shape メソッドは if-elif で形状名を振り分けており、新たに形状を追加するたびにコード修正が必要です。設計改善案としては、形状クラス自体に名前を持たせて登録するか、リフレクション的に shapes モジュールを探索する仕組みを導入し、ファクトリメソッドの自動登録化を検討するとよいでしょう。
